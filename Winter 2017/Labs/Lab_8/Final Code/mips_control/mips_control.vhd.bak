LIBRARY ieee;
USE ieee.std_logic_1164.all;
USE ieee.STD_LOGIC_ARITH.all;
USE ieee.STD_LOGIC_UNSIGNED.all;

ENTITY mips_control IS 
	PORT( opcode				 : IN STD_LOGIC_VECTOR(5 DOWNTO 0);
			funct					 : IN STD_LOGIC_VECTOR(5 DOWNTO 0);
			RegDst, ALUSrc 	 : OUT STD_LOGIC;
			Jump, Jal, Jr		 : OUT STD_LOGIC;
			Beq, Bne				 : OUT STD_LOGIC;
			MemRead, MemWrite	 : OUT STD_LOGIC;
			RegWrite, MemtoReg :	OUT STD_LOGIC;
			ALUControl			 : OUT STD_LOGIC_VECTOR(3 DOWNTO 0)
			);
END mips_control;

ARCHITECTURE Behavior OF mips_control IS 
	
BEGIN

	PROCESS(opcode, funct)
	BEGIN 
		CASE opcode IS 
			WHEN "000000" =>
				CASE funct IS
					WHEN "100000" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						ALUControl <= "0010";
					WHEN "100001" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "0000";
					WHEN "100100" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "0000";
					WHEN "001000" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '1';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "0000";
					WHEN "100111" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "1100";
					WHEN "100101" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "0001";
					WHEN "101010" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "0111";
					WHEN "000000" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "1000";
					WHEN "000010" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "1001";
					WHEN "000100" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "0000";
					WHEN "000110" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "1010";
					WHEN "100010" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "0110";
					WHEN "100011" =>
						RegDst <= '1';
						ALUSrc <= '0';
						Jump <= '0';
						Jal <= '0';
						Jr <= '0';
						Beq <= '0';
						Bne <= '0';
						MemRead <= '0';
						MemWrite <= '0';
						RegWrite <= '1';
						MemtoReg <= '0';
						AlUControl <= "0000";
					WHEN OTHERS =>
				END CASE;
			WHEN "001000" =>
				RegDst <= '0';
				ALUSrc <= '1';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '1';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "001001" =>
				RegDst <= '0';
				ALUSrc <= '1';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '1';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "001100" =>
				RegDst <= '0';
				ALUSrc <= '1';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '1';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "000100" =>
				RegDst <= '0';
				ALUSrc <= '0';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '1';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '0';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "000101" =>
				RegDst <= '0';
				ALUSrc <= '0';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '1';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '0';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "000010" =>
				RegDst <= '0';
				ALUSrc <= '0';
				Jump <= '1';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '0';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "000011" =>
				RegDst <= '0';
				ALUSrc <= '0';
				Jump <= '0';
				Jal <= '1';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '0';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "001111" =>
				RegDst <= '0';
				ALUSrc <= '1';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '1';
				MemtoReg <= '0';
				AlUControl <= "1101";
			WHEN "100011" =>
				RegDst <= '0';
				ALUSrc <= '1';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '1';
				MemWrite <= '0';
				RegWrite <= '1';
				MemtoReg <= '1';
				AlUControl <= "0000";
			WHEN "001101" =>
				RegDst <= '0';
				ALUSrc <= '1';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '1';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "001010" =>
				RegDst <= '0';
				ALUSrc <= '1';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '0';
				RegWrite <= '1';
				MemtoReg <= '0';
				AlUControl <= "0000";
			WHEN "101011" =>
				RegDst <= '0';
				ALUSrc <= '1';
				Jump <= '0';
				Jal <= '0';
				Jr <= '0';
				Beq <= '0';
				Bne <= '0';
				MemRead <= '0';
				MemWrite <= '1';
				RegWrite <= '0';
				MemtoReg <= '0';
				AlUControl <= "1011";
			WHEN OTHERS =>
		END CASE;
	END PROCESS;
END Behavior;